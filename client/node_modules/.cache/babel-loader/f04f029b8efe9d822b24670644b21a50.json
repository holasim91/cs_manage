{"ast":null,"code":"var _jsxFileName = \"/Users/hyuninsim/cs_manager/client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Customer from \"./components/Customer\";\nimport CustomerAdd from \"./components/CustomerAdd\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { makeStyles, fade } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    minWidth: 1080\n  },\n  paper: {\n    marginLeft: 18,\n    marginRight: 18\n  },\n  menu: {\n    marginTop: 15,\n    marginBottom: 15,\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  tableHead: {\n    fontSize: \"1.0rem\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1,\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\"\n    }\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(1),\n      width: \"auto\"\n    }\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\"\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 120,\n      \"&:focus\": {\n        width: 200\n      }\n    }\n  }\n}));\nexport default function App() {\n  const classes = useStyles();\n  const cellList = [\"ID\", \"사진\", \"이름\", \"생년월일\", \"성별\", \"직업\", \"설정\"];\n  const [customers, setCustomers] = useState([]);\n  const [refresh, setRefresh] = useState({\n    file: null,\n    name: \"\",\n    birth: \"\",\n    gender: \"\",\n    job: \"\",\n    filename: \"\"\n  });\n  const [keyword, setKeyword] = useState({\n    searchKeayword: \"\"\n  });\n  useEffect(() => {\n    async function fetchData() {\n      const res = await fetch(\"/api/customers\");\n      res.json().then(res => setCustomers(res));\n    }\n\n    fetchData();\n  }, []);\n\n  function RefreshState() {\n    setRefresh(refresh);\n    setKeyword(keyword.searchKeayword = \"\");\n    console.log('추가Refresh!', keyword.searchKeayword);\n    console.log('Refresh!', refresh);\n\n    async function fetchData() {\n      const res = await fetch(\"/api/customers\");\n      res.json().then(res => setCustomers(res));\n    }\n\n    fetchData();\n  }\n\n  function handleValueChange(e) {\n    e.preventDefault();\n    setKeyword({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function filteredComponents(data) {\n    data = data.filter(c => {\n      return c.name.indexOf(keyword.searchKeayword) > -1;\n    });\n    return data.map(customer => {\n      return React.createElement(Customer, {\n        stateRefresh: RefreshState,\n        key: customer.id,\n        id: customer.id,\n        img: customer.image,\n        name: customer.name,\n        birth: customer.birth,\n        gender: customer.gender,\n        job: customer.job,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      });\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"static\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    edge: \"start\",\n    className: classes.menuButton,\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(MenuIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    className: classes.title,\n    variant: \"h6\",\n    noWrap: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"\\uACE0\\uAC1D\\uAD00\\uB9AC \\uC2DC\\uC2A4\\uD15C\"), React.createElement(\"div\", {\n    className: classes.search,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.searchIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(SearchIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })), React.createElement(InputBase, {\n    placeholder: \"Search\\u2026\",\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    },\n    name: \"searchKeayword\",\n    value: keyword.name,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: classes.menu,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(CustomerAdd, {\n    refreshState: RefreshState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })), React.createElement(Table, {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, cellList.map((cell, idx) => React.createElement(TableCell, {\n    className: classes.tableHead,\n    key: idx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, cell)))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, customers ? filteredComponents(customers) : \"Data Fetching...\"))));\n}","map":{"version":3,"sources":["/Users/hyuninsim/cs_manager/client/src/App.js"],"names":["React","useState","useEffect","Customer","CustomerAdd","Paper","Table","TableHead","TableBody","TableRow","TableCell","AppBar","Toolbar","Typography","IconButton","InputBase","MenuIcon","SearchIcon","makeStyles","fade","useStyles","theme","root","width","minWidth","paper","marginLeft","marginRight","menu","marginTop","marginBottom","display","justifyContent","tableHead","fontSize","menuButton","spacing","title","flexGrow","breakpoints","up","search","position","borderRadius","shape","backgroundColor","palette","common","white","searchIcon","height","pointerEvents","alignItems","inputRoot","color","inputInput","padding","transition","transitions","create","App","classes","cellList","customers","setCustomers","refresh","setRefresh","file","name","birth","gender","job","filename","keyword","setKeyword","searchKeayword","fetchData","res","fetch","json","then","RefreshState","console","log","handleValueChange","e","preventDefault","target","value","filteredComponents","data","filter","c","indexOf","map","customer","id","image","input","table","cell","idx"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,0BAAjC;AAEA,MAAMC,SAAS,GAAGF,UAAU,CAACG,KAAK,KAAK;AACrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,MADH;AAEJC,IAAAA,QAAQ,EAAE;AAFN,GAD+B;AAKrCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,UAAU,EAAE,EADP;AAELC,IAAAA,WAAW,EAAE;AAFR,GAL8B;AASrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,SAAS,EAAE,EADP;AAEJC,IAAAA,YAAY,EAAE,EAFV;AAGJC,IAAAA,OAAO,EAAE,MAHL;AAIJC,IAAAA,cAAc,EAAE;AAJZ,GAT+B;AAerCC,EAAAA,SAAS,EAAE;AACTC,IAAAA,QAAQ,EAAE;AADD,GAf0B;AAkBrCC,EAAAA,UAAU,EAAE;AACVR,IAAAA,WAAW,EAAEN,KAAK,CAACe,OAAN,CAAc,CAAd;AADH,GAlByB;AAqBrCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,CADL;AAELP,IAAAA,OAAO,EAAE,MAFJ;AAGL,KAACV,KAAK,CAACkB,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BT,MAAAA,OAAO,EAAE;AADmB;AAHzB,GArB8B;AA4BrCU,EAAAA,MAAM,EAAE;AACNC,IAAAA,QAAQ,EAAE,UADJ;AAENC,IAAAA,YAAY,EAAEtB,KAAK,CAACuB,KAAN,CAAYD,YAFpB;AAGNE,IAAAA,eAAe,EAAE1B,IAAI,CAACE,KAAK,CAACyB,OAAN,CAAcC,MAAd,CAAqBC,KAAtB,EAA6B,IAA7B,CAHf;AAIN,eAAW;AACTH,MAAAA,eAAe,EAAE1B,IAAI,CAACE,KAAK,CAACyB,OAAN,CAAcC,MAAd,CAAqBC,KAAtB,EAA6B,IAA7B;AADZ,KAJL;AAONtB,IAAAA,UAAU,EAAE,CAPN;AAQNH,IAAAA,KAAK,EAAE,MARD;AASN,KAACF,KAAK,CAACkB,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5Bd,MAAAA,UAAU,EAAEL,KAAK,CAACe,OAAN,CAAc,CAAd,CADgB;AAE5Bb,MAAAA,KAAK,EAAE;AAFqB;AATxB,GA5B6B;AA0CrC0B,EAAAA,UAAU,EAAE;AACV1B,IAAAA,KAAK,EAAEF,KAAK,CAACe,OAAN,CAAc,CAAd,CADG;AAEVc,IAAAA,MAAM,EAAE,MAFE;AAGVR,IAAAA,QAAQ,EAAE,UAHA;AAIVS,IAAAA,aAAa,EAAE,MAJL;AAKVpB,IAAAA,OAAO,EAAE,MALC;AAMVqB,IAAAA,UAAU,EAAE,QANF;AAOVpB,IAAAA,cAAc,EAAE;AAPN,GA1CyB;AAmDrCqB,EAAAA,SAAS,EAAE;AACTC,IAAAA,KAAK,EAAE;AADE,GAnD0B;AAsDrCC,EAAAA,UAAU,EAAE;AACVC,IAAAA,OAAO,EAAEnC,KAAK,CAACe,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CADC;AAEVqB,IAAAA,UAAU,EAAEpC,KAAK,CAACqC,WAAN,CAAkBC,MAAlB,CAAyB,OAAzB,CAFF;AAGVpC,IAAAA,KAAK,EAAE,MAHG;AAIV,KAACF,KAAK,CAACkB,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAAD,GAA8B;AAC5BjB,MAAAA,KAAK,EAAE,GADqB;AAE5B,iBAAW;AACTA,QAAAA,KAAK,EAAE;AADE;AAFiB;AAJpB;AAtDyB,CAAL,CAAN,CAA5B;AAmEA,eAAe,SAASqC,GAAT,GAAe;AAC5B,QAAMC,OAAO,GAAGzC,SAAS,EAAzB;AACA,QAAM0C,QAAQ,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,MAAnB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,IAAvC,CAAjB;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4B/D,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACgE,OAAD,EAAUC,UAAV,IAAwBjE,QAAQ,CAAC;AACrCkE,IAAAA,IAAI,EAAE,IAD+B;AAErCC,IAAAA,IAAI,EAAE,EAF+B;AAGrCC,IAAAA,KAAK,EAAE,EAH8B;AAIrCC,IAAAA,MAAM,EAAE,EAJ6B;AAKrCC,IAAAA,GAAG,EAAE,EALgC;AAMrCC,IAAAA,QAAQ,EAAE;AAN2B,GAAD,CAAtC;AAQA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBzE,QAAQ,CAAC;AACrC0E,IAAAA,cAAc,EAAE;AADqB,GAAD,CAAtC;AAIAzE,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAe0E,SAAf,GAA2B;AACzB,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,gBAAD,CAAvB;AACAD,MAAAA,GAAG,CAACE,IAAJ,GAAWC,IAAX,CAAgBH,GAAG,IAAIb,YAAY,CAACa,GAAD,CAAnC;AACD;;AAEDD,IAAAA,SAAS;AACV,GAPQ,EAON,EAPM,CAAT;;AASA,WAASK,YAAT,GAAwB;AACtBf,IAAAA,UAAU,CAACD,OAAD,CAAV;AACAS,IAAAA,UAAU,CAAED,OAAO,CAACE,cAAR,GAAwB,EAA1B,CAAV;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBV,OAAO,CAACE,cAAjC;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBlB,OAAvB;;AACA,mBAAeW,SAAf,GAA2B;AACzB,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,gBAAD,CAAvB;AACAD,MAAAA,GAAG,CAACE,IAAJ,GAAWC,IAAX,CAAgBH,GAAG,IAAIb,YAAY,CAACa,GAAD,CAAnC;AACD;;AACDD,IAAAA,SAAS;AAEV;;AAED,WAASQ,iBAAT,CAA2BC,CAA3B,EAA8B;AAC5BA,IAAAA,CAAC,CAACC,cAAF;AACAZ,IAAAA,UAAU,CAAC;AAAE,OAACW,CAAC,CAACE,MAAF,CAASnB,IAAV,GAAiBiB,CAAC,CAACE,MAAF,CAASC;AAA5B,KAAD,CAAV;AACD;;AAED,WAASC,kBAAT,CAA4BC,IAA5B,EAAkC;AAChCA,IAAAA,IAAI,GAAGA,IAAI,CAACC,MAAL,CAAYC,CAAC,IAAI;AACtB,aAAOA,CAAC,CAACxB,IAAF,CAAOyB,OAAP,CAAepB,OAAO,CAACE,cAAvB,IAAyC,CAAC,CAAjD;AACD,KAFM,CAAP;AAGA,WAAOe,IAAI,CAACI,GAAL,CAASC,QAAQ,IAAI;AAC1B,aACE,oBAAC,QAAD;AACE,QAAA,YAAY,EAAEd,YADhB;AAEE,QAAA,GAAG,EAAEc,QAAQ,CAACC,EAFhB;AAGE,QAAA,EAAE,EAAED,QAAQ,CAACC,EAHf;AAIE,QAAA,GAAG,EAAED,QAAQ,CAACE,KAJhB;AAKE,QAAA,IAAI,EAAEF,QAAQ,CAAC3B,IALjB;AAME,QAAA,KAAK,EAAE2B,QAAQ,CAAC1B,KANlB;AAOE,QAAA,MAAM,EAAE0B,QAAQ,CAACzB,MAPnB;AAQE,QAAA,GAAG,EAAEyB,QAAQ,CAACxB,GARhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAYD,KAbM,CAAP;AAcD;;AAED,SACE;AAAK,IAAA,SAAS,EAAEV,OAAO,CAACvC,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAEuC,OAAO,CAACpC,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAEoC,OAAO,CAAC1B,UAFrB;AAGE,IAAA,KAAK,EAAC,SAHR;AAIE,kBAAW,aAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF,EASE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAE0B,OAAO,CAACxB,KAA/B;AAAsC,IAAA,OAAO,EAAC,IAA9C;AAAmD,IAAA,MAAM,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDATF,EAYE;AAAK,IAAA,SAAS,EAAEwB,OAAO,CAACpB,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEoB,OAAO,CAACZ,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,oBAAC,SAAD;AACE,IAAA,WAAW,EAAC,cADd;AAEE,IAAA,OAAO,EAAE;AACP3B,MAAAA,IAAI,EAAEuC,OAAO,CAACR,SADP;AAEP6C,MAAAA,KAAK,EAAErC,OAAO,CAACN;AAFR,KAFX;AAME,IAAA,IAAI,EAAC,gBANP;AAOE,IAAA,KAAK,EAAEkB,OAAO,CAACL,IAPjB;AAQE,IAAA,QAAQ,EAAEgB,iBARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAZF,CADF,CADF,EA+BE;AAAK,IAAA,SAAS,EAAEvB,OAAO,CAACjC,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAa,IAAA,YAAY,EAAEqD,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA/BF,EAkCE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAEpB,OAAO,CAACsC,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrC,QAAQ,CAACgC,GAAT,CAAa,CAACM,IAAD,EAAOC,GAAP,KACZ,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAExC,OAAO,CAAC5B,SAA9B;AAAyC,IAAA,GAAG,EAAEoE,GAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,IADH,CADD,CADH,CADF,CADF,EAUE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrC,SAAS,GAAG0B,kBAAkB,CAAC1B,SAAD,CAArB,GAAmC,kBAD/C,CAVF,CAlCF,CADF,CADF;AAqDD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Customer from \"./components/Customer\";\nimport CustomerAdd from \"./components/CustomerAdd\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { makeStyles, fade } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    minWidth: 1080\n  },\n  paper: {\n    marginLeft: 18,\n    marginRight: 18\n  },\n  menu: {\n    marginTop: 15,\n    marginBottom: 15,\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  tableHead: {\n    fontSize: \"1.0rem\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1,\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\"\n    }\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(1),\n      width: \"auto\"\n    }\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\"\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 120,\n      \"&:focus\": {\n        width: 200\n      }\n    }\n  }\n}));\n\nexport default function App() {\n  const classes = useStyles();\n  const cellList = [\"ID\", \"사진\", \"이름\", \"생년월일\", \"성별\", \"직업\", \"설정\"];\n  const [customers, setCustomers] = useState([]);\n  const [refresh, setRefresh] = useState({\n    file: null,\n    name: \"\",\n    birth: \"\",\n    gender: \"\",\n    job: \"\",\n    filename: \"\"\n  });\n  const [keyword, setKeyword] = useState({\n    searchKeayword: \"\"\n  });\n\n  useEffect(() => {\n    async function fetchData() {\n      const res = await fetch(\"/api/customers\");\n      res.json().then(res => setCustomers(res));\n    }\n\n    fetchData();\n  }, []);\n\n  function RefreshState() {\n    setRefresh(refresh);\n    setKeyword((keyword.searchKeayword =\"\"));\n    console.log('추가Refresh!',keyword.searchKeayword)\n    console.log('Refresh!',refresh)\n    async function fetchData() {\n      const res = await fetch(\"/api/customers\");\n      res.json().then(res => setCustomers(res));\n    }\n    fetchData();\n\n  }\n\n  function handleValueChange(e) {\n    e.preventDefault();\n    setKeyword({ [e.target.name]: e.target.value });\n  }\n\n  function filteredComponents(data) {\n    data = data.filter(c => {\n      return c.name.indexOf(keyword.searchKeayword) > -1;\n    });\n    return data.map(customer => {\n      return (\n        <Customer\n          stateRefresh={RefreshState}\n          key={customer.id}\n          id={customer.id}\n          img={customer.image}\n          name={customer.name}\n          birth={customer.birth}\n          gender={customer.gender}\n          job={customer.job}\n        />\n      );\n    });\n  }\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography className={classes.title} variant=\"h6\" noWrap>\n              고객관리 시스템\n            </Typography>\n            <div className={classes.search}>\n              <div className={classes.searchIcon}>\n                <SearchIcon />\n              </div>\n              <InputBase\n                placeholder=\"Search…\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput\n                }}\n                name=\"searchKeayword\"\n                value={keyword.name}\n                onChange={handleValueChange}\n              />\n            </div>\n          </Toolbar>\n        </AppBar>\n        <div className={classes.menu}>\n          <CustomerAdd refreshState={RefreshState} />\n        </div>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              {cellList.map((cell, idx) => (\n                <TableCell className={classes.tableHead} key={idx}>\n                  {cell}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {customers ? filteredComponents(customers) : \"Data Fetching...\"}\n          </TableBody>\n        </Table>\n      </Paper>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}