{"ast":null,"code":"var _jsxFileName = \"/Users/hyuninsim/cs_manager/client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Customer from \"./components/Customer\";\nimport CustomerAdd from \"./components/CustomerAdd\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles, fade } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    minWidth: 1080\n  },\n  progress: {\n    marginLeft: theme.spacing(2)\n  },\n  paper: {\n    marginLeft: 18,\n    marginRight: 18\n  },\n  menu: {\n    marginTop: 15,\n    marginBottom: 15,\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  tableHead: {\n    fontSize: \"1.0rem\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1,\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\"\n    }\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(1),\n      width: \"auto\"\n    }\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\"\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 120,\n      \"&:focus\": {\n        width: 200\n      }\n    }\n  }\n}));\nexport default function App() {\n  const classes = useStyles();\n  const cellList = [\"ID\", \"사진\", \"이름\", \"생년월일\", \"성별\", \"직업\", \"설정\"];\n  const [customers, setCustomers] = useState([]);\n  const [refresh, setRefresh] = useState({\n    file: null,\n    name: \"\",\n    birth: \"\",\n    gender: \"\",\n    job: \"\",\n    filename: \"\"\n  });\n  const [keyword, setKeyword] = useState({\n    searchKeayword: \"\"\n  });\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    async function fetchData() {\n      const res = await fetch(\"/api/customers\"); // res.json().then(res => setCustomers(res));\n    }\n\n    function tick() {\n      setProgress(progress => progress >= 100 ? 0 : progress + 1);\n    }\n\n    const timer = setInterval(tick, 20);\n    clearInterval(timer);\n    fetchData();\n  }, []);\n\n  function RefreshState() {\n    setRefresh(refresh);\n    setKeyword(keyword);\n\n    async function fetchData() {\n      const res = await fetch(\"/api/customers\");\n      res.json().then(res => setCustomers(res));\n    }\n\n    fetchData();\n  }\n\n  function handleValueChange(e) {\n    e.preventDefault();\n    setKeyword({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function filteredComponents(data) {\n    data = data.filter(c => {\n      return c.name.indexOf(keyword.searchKeayword) > -1;\n    });\n    return data.map(customer => {\n      return React.createElement(Customer, {\n        stateRefresh: RefreshState,\n        key: customer.id,\n        id: customer.id,\n        img: customer.image,\n        name: customer.name,\n        birth: customer.birth,\n        gender: customer.gender,\n        job: customer.job,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      });\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"static\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    edge: \"start\",\n    className: classes.menuButton,\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(MenuIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    className: classes.title,\n    variant: \"h6\",\n    noWrap: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"\\uACE0\\uAC1D\\uAD00\\uB9AC \\uC2DC\\uC2A4\\uD15C\"), React.createElement(\"div\", {\n    className: classes.search,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.searchIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(SearchIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  })), React.createElement(InputBase, {\n    placeholder: \"Search\\u2026\",\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    },\n    name: \"searchKeayword\",\n    value: keyword.name,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: classes.menu,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(CustomerAdd, {\n    refreshState: RefreshState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  })), React.createElement(Table, {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, cellList.map((cell, idx) => React.createElement(TableCell, {\n    className: classes.tableHead,\n    key: idx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, cell)))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, customers ? filteredComponents(customers) : React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    colSpan: \"7\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, console.log(progress), React.createElement(CircularProgress, {\n    className: classes.progress,\n    variant: \"determinate\",\n    value: progress,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  })))))));\n}","map":{"version":3,"sources":["/Users/hyuninsim/cs_manager/client/src/App.js"],"names":["React","useState","useEffect","Customer","CustomerAdd","Paper","Table","TableHead","TableBody","TableRow","TableCell","AppBar","Toolbar","Typography","IconButton","InputBase","MenuIcon","SearchIcon","CircularProgress","makeStyles","fade","useStyles","theme","root","width","minWidth","progress","marginLeft","spacing","paper","marginRight","menu","marginTop","marginBottom","display","justifyContent","tableHead","fontSize","menuButton","title","flexGrow","breakpoints","up","search","position","borderRadius","shape","backgroundColor","palette","common","white","searchIcon","height","pointerEvents","alignItems","inputRoot","color","inputInput","padding","transition","transitions","create","App","classes","cellList","customers","setCustomers","refresh","setRefresh","file","name","birth","gender","job","filename","keyword","setKeyword","searchKeayword","setProgress","fetchData","res","fetch","tick","timer","setInterval","clearInterval","RefreshState","json","then","handleValueChange","e","preventDefault","target","value","filteredComponents","data","filter","c","indexOf","map","customer","id","image","input","table","cell","idx","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Customer from \"./components/Customer\";\nimport CustomerAdd from \"./components/CustomerAdd\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles, fade } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    minWidth: 1080\n  },\n  progress:{\n    marginLeft: theme.spacing(2),\n  },\n\n  paper: {\n    marginLeft: 18,\n    marginRight: 18\n  },\n  menu: {\n    marginTop: 15,\n    marginBottom: 15,\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  tableHead: {\n    fontSize: \"1.0rem\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1,\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\"\n    }\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(1),\n      width: \"auto\"\n    }\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputRoot: {\n    color: \"inherit\"\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 120,\n      \"&:focus\": {\n        width: 200\n      }\n    }\n  }\n}));\n\nexport default function App() {\n  const classes = useStyles();\n  const cellList = [\"ID\", \"사진\", \"이름\", \"생년월일\", \"성별\", \"직업\", \"설정\"];\n  const [customers, setCustomers] = useState([]);\n  const [refresh, setRefresh] = useState({\n    file: null,\n    name: \"\",\n    birth: \"\",\n    gender: \"\",\n    job: \"\",\n    filename: \"\"\n  });\n  const [keyword, setKeyword] = useState({\n    searchKeayword: \"\"\n  });\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    async function fetchData() {\n      const res = await fetch(\"/api/customers\");\n      // res.json().then(res => setCustomers(res));\n    }\n\n    function tick() {\n      setProgress(progress => (progress >= 100 ? 0 : progress + 1));\n    }\n    const timer = setInterval(tick, 20);\n    clearInterval(timer)\n    fetchData();\n  }, []);\n\n  function RefreshState() {\n    setRefresh(refresh);\n    setKeyword(keyword);\n    async function fetchData() {\n      const res = await fetch(\"/api/customers\");\n      res.json().then(res => setCustomers(res));\n    }\n    fetchData();\n  }\n\n  function handleValueChange(e) {\n    e.preventDefault();\n    setKeyword({ [e.target.name]: e.target.value });\n  }\n\n  function filteredComponents(data) {\n    data = data.filter(c => {\n      return c.name.indexOf(keyword.searchKeayword) > -1;\n    });\n    return data.map(customer => {\n      return (\n        <Customer\n          stateRefresh={RefreshState}\n          key={customer.id}\n          id={customer.id}\n          img={customer.image}\n          name={customer.name}\n          birth={customer.birth}\n          gender={customer.gender}\n          job={customer.job}\n        />\n      );\n    });\n  }\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography className={classes.title} variant=\"h6\" noWrap>\n              고객관리 시스템\n            </Typography>\n            <div className={classes.search}>\n              <div className={classes.searchIcon}>\n                <SearchIcon />\n              </div>\n              <InputBase\n                placeholder=\"Search…\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput\n                }}\n                name=\"searchKeayword\"\n                value={keyword.name}\n                onChange={handleValueChange}\n              />\n            </div>\n          </Toolbar>\n        </AppBar>\n        <div className={classes.menu}>\n          <CustomerAdd refreshState={RefreshState} />\n        </div>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              {cellList.map((cell, idx) => (\n                <TableCell className={classes.tableHead} key={idx}>\n                  {cell}\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {customers ? (\n              filteredComponents(customers)\n            ) : (\n              <TableRow>\n                <TableCell colSpan=\"7\" align=\"center\">\n                  {console.log(progress)}\n                  <CircularProgress className={classes.progress} variant=\"determinate\" value={progress} />\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </Paper>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}