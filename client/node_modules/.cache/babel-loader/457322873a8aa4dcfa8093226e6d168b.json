{"ast":null,"code":"var _jsxFileName = \"/Users/hyuninsim/cs_manager/client/src/components/CustomerAdd.js\";\nimport React, { useState } from 'react';\nimport { post } from 'axios';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst styles = makeStyles(theme => ({\n  hidden: {\n    display: 'none'\n  }\n}));\nexport default function CustomerAdd(props) {\n  const classes = styles();\n  const initialDataState = {\n    file: null,\n    name: '',\n    birth: '',\n    gender: '',\n    job: '',\n    fileName: ''\n  };\n  const [data, setValue] = useState(initialDataState);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setValue({\n      file: null,\n      name: \"\",\n      birth: \"\",\n      gender: \"\",\n      job: \"\",\n      fileName: \"\"\n    });\n  };\n\n  function handleValueChange(e) {\n    e.preventDefault();\n    setValue({ ...data,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleFileChange(e) {\n    setValue({ ...data,\n      file: e.target.files[0],\n      fileName: e.target.value\n    });\n  } // const refresh = props.refreshState()\n\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n    console.log(data.name, data.birth, data.job, data.gender);\n    addCustomer().then(response => {\n      console.log(response.data);\n      props.refreshState();\n    });\n    setValue({\n      file: null,\n      name: '',\n      birth: '',\n      gender: '',\n      job: '',\n      fileName: ''\n    });\n  }\n\n  function addCustomer() {\n    const url = 'api/customers';\n    const formData = new FormData();\n    formData.append('image', data.file);\n    formData.append('name', data.name);\n    formData.append('birth', data.birth);\n    formData.append('gender', data.gender);\n    formData.append('job', data.job);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return post(url, formData, config);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleClickOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"\\uACE0\\uAC1D \\uCD94\\uAC00\\uD558\\uAE30\"), React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"\\uACE0\\uAC1D \\uCD94\\uAC00\"), React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    label: \"\\uC774\\uB984\",\n    type: \"text\",\n    name: \"name\",\n    value: data.name,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    label: \"\\uC0DD\\uC77C\",\n    type: \"text\",\n    name: \"birth\",\n    value: data.birth,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    label: \"\\uC131\\uBCC4\",\n    type: \"text\",\n    name: \"gender\",\n    value: data.gender,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    label: \"\\uC9C1\\uC5C5\",\n    type: \"text\",\n    name: \"job\",\n    value: data.job,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/Users/hyuninsim/cs_manager/client/src/components/CustomerAdd.js"],"names":["React","useState","post","Dialog","DialogContent","DialogTitle","DialogActions","TextField","Button","makeStyles","styles","theme","hidden","display","CustomerAdd","props","classes","initialDataState","file","name","birth","gender","job","fileName","data","setValue","open","setOpen","handleClickOpen","handleClose","handleValueChange","e","preventDefault","target","value","handleFileChange","files","handleFormSubmit","console","log","addCustomer","then","response","refreshState","url","formData","FormData","append","config","headers"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport {post} from 'axios'\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst styles = makeStyles(theme=>({\n    hidden:{\n        display:'none'\n    }\n\n}))\n\nexport default function CustomerAdd(props) {\n    const classes = styles();\n\n    const initialDataState = {\n        file:null,\n        name:'',\n        birth:'',\n        gender:'',\n        job:'',\n        fileName:''\n       \n      }\n\n    const [data, setValue] = useState(initialDataState)\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n      };\n    \n      const handleClose = () => {\n        setOpen(false);\n        setValue({\n          file: null,\n          name: \"\",\n          birth: \"\",\n          gender: \"\",\n          job: \"\",\n          fileName: \"\"\n        });\n      };\n    function handleValueChange(e){\n        e.preventDefault();\n\n        setValue({\n            ...data,\n            [e.target.name]:e.target.value\n        })\n    }\n\n    function handleFileChange(e){\n        setValue({\n            ...data,\n            file: e.target.files[0],\n            fileName: e.target.value\n        })\n    }\n    // const refresh = props.refreshState()\n    function handleFormSubmit(e){\n        e.preventDefault();\n        console.log(data.name, data.birth, data.job, data.gender);\n        addCustomer()\n        .then((response)=>{\n            console.log(response.data)\n            props.refreshState()\n        })\n        setValue({\n            file:null,\n            name:'',\n            birth:'',\n            gender:'',\n            job:'',\n            fileName:''\n    \n        })\n\n    }\n\n    function addCustomer(){\n        const url = 'api/customers'\n        const formData = new FormData()\n        formData.append('image', data.file)\n        formData.append('name', data.name)\n        formData.append('birth', data.birth)\n        formData.append('gender', data.gender)\n        formData.append('job', data.job)\n        const config={\n            headers:{\n                'content-type':'multipart/form-data'\n            }\n        }\n        return post(url, formData, config)\n    }\n    return (\n        <div>\n            <Button variant=\"contained\" color=\"primary\" onClick={handleClickOpen}>\n               고객 추가하기 \n            </Button>\n            <Dialog open={open} onClose={handleClose}>\n                <DialogTitle>\n                    고객 추가\n                </DialogTitle>\n                <DialogContent>\n                    <TextField label=\"이름\" type='text' name=\"name\" value={data.name} onChange={handleValueChange}/><br/>\n                    <TextField label=\"생일\" type='text' name=\"birth\" value={data.birth} onChange={handleValueChange}/><br/>\n                    <TextField label=\"성별\" type='text' name=\"gender\" value={data.gender} onChange={handleValueChange}/><br/>\n                    <TextField label=\"직업\" type='text' name=\"job\" value={data.job} onChange={handleValueChange}/><br/>\n\n                </DialogContent>\n            </Dialog>\n            {/* <form onSubmit={handleFormSubmit}>\n                <h1>고객 추가</h1>\n                프로필 이미지:<input type='file' name='file' file={data.file} value={data.fileName} onChange={handleFileChange}/><br/>\n                <button type='submit'>추가하기</button>\n\n            </form> */}\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}