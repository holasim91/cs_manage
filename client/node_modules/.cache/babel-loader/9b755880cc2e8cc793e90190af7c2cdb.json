{"ast":null,"code":"var _jsxFileName = \"/Users/hyuninsim/cs_manager/client/src/components/CustomerAdd.js\";\nimport React from 'react';\nimport { Post } from 'axios';\nimport { format } from 'mysql';\nexport default function CustomerAdd() {\n  const initialDataState = {\n    file: null,\n    name: '',\n    birth: '',\n    gender: '',\n    job: '',\n    fileName: ''\n  };\n  const [data, setValue] = useState(initialDataState);\n\n  function handleValueChange(e) {\n    e.preventDefault();\n    setValue({ ...data,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleFileChange(e) {\n    setValue({\n      file: e.target.files[0],\n      fileName: e.target.value\n    });\n  }\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n    console.log(data.name, data.birth, data.job, data.gender);\n    addCustomer().then(response => {\n      console.log(response.data);\n    });\n  }\n\n  function addCustomer() {\n    const url = '/api/customers';\n    const formData = new FormData();\n    formData.append('image', data.file);\n    formData.append('name', data.name);\n    formData.append('birth', data.birth);\n    formData.append('gender', data.gender);\n    formData.append('job', data.job);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    return post(url, formData, config);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"\\uACE0\\uAC1D \\uCD94\\uAC00\"), \"\\uD504\\uB85C\\uD544 \\uC774\\uBBF8\\uC9C0:\", React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    file: data.file,\n    value: data.fileName,\n    onChange: handleFileChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), \"\\uC774\\uB984 : \", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: data.name,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), \"\\uC0DD\\uB144\\uC6D4\\uC77C : \", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"birth\",\n    value: data.birth,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), \"\\uC131\\uBCC4 : \", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"gender\",\n    value: data.gender,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), \"\\uC9C1\\uC5C5 : \", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"job\",\n    value: data.job,\n    onChange: handleValueChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"\\uCD94\\uAC00\\uD558\\uAE30\")));\n}","map":{"version":3,"sources":["/Users/hyuninsim/cs_manager/client/src/components/CustomerAdd.js"],"names":["React","Post","format","CustomerAdd","initialDataState","file","name","birth","gender","job","fileName","data","setValue","useState","handleValueChange","e","preventDefault","target","value","handleFileChange","files","handleFormSubmit","console","log","addCustomer","then","response","url","formData","FormData","append","config","headers","post"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Post} from 'axios'\nimport { format } from 'mysql';\n\nexport default function CustomerAdd() {\n    const initialDataState = {\n        file:null,\n        name:'',\n        birth:'',\n        gender:'',\n        job:'',\n        fileName:''\n       \n      }\n\n    const [data, setValue] = useState(initialDataState)\n\n    function handleValueChange(e){\n        e.preventDefault();\n\n        setValue({\n            ...data,\n            [e.target.name]:e.target.value\n        })\n    }\n\n    function handleFileChange(e){\n        setValue({\n            file: e.target.files[0],\n            fileName: e.target.value\n        })\n    }\n\n    function handleFormSubmit(e){\n        e.preventDefault();\n        console.log(data.name, data.birth, data.job, data.gender);\n        addCustomer()\n        .then((response)=>{\n            console.log(response.data)\n        })\n\n    }\n\n    function addCustomer(){\n        const url = '/api/customers'\n        const formData = new FormData()\n        formData.append('image', data.file)\n        formData.append('name', data.name)\n        formData.append('birth', data.birth)\n        formData.append('gender', data.gender)\n        formData.append('job', data.job)\n        const config={\n            headers:{\n                'content-type':'multipart/form-data'\n            }\n        }\n        return post(url, formData, config)\n    }\n    return (\n        <div>\n            <form onSubmit={handleFormSubmit}>\n                <h1>고객 추가</h1>\n                프로필 이미지:<input type='file' name='file' file={data.file} value={data.fileName} onChange={handleFileChange}/>\n                이름 : <input type='text' name=\"name\" value={data.name} onChange={handleValueChange}/>\n                생년월일 : <input type='text' name=\"birth\" value={data.birth} onChange={handleValueChange}/>\n                성별 : <input type='text' name=\"gender\" value={data.gender} onChange={handleValueChange}/>\n                직업 : <input type='text' name=\"job\" value={data.job} onChange={handleValueChange}/>\n                <button type='submit'>추가하기</button>\n\n            </form>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}